---
// This layout styles the rendered Markdown content
import AuthorCard from '../components/AuthorCard.astro';
import { getImageUrl } from '../utils/imageUrl';
const { frontmatter } = Astro.props;
---
<article class="container mx-auto p-4 max-w-3xl">
  <header class="mb-8">
    <h1 class="text-4xl font-bold mb-2 text-gray-900 dark:text-gray-100">{frontmatter.title}</h1>
    <div class="text-gray-600 dark:text-gray-400">
      <p class="mb-2">Posted on {frontmatter.date.toDateString()}</p>
      <AuthorCard username={frontmatter.username} name={frontmatter.author} />
    </div>
    {frontmatter.tag && (
      <p class="mt-2">
        <span class="text-sm font-medium bg-gray-200 dark:bg-gray-700 py-1 px-2 rounded">
          {frontmatter.tag}
        </span>
      </p>
    )}
  </header>

  {frontmatter.cover && (
    <img 
      src={getImageUrl(frontmatter.cover)} 
      alt={frontmatter.title}
      class="w-full rounded-lg mb-8 shadow-lg"
    />
  )}
  
  <div class="prose dark:prose-invert lg:prose-lg max-w-none">
    <slot /> </div>
</article>